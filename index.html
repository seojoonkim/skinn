<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>서울 피부과 가이드 | Skinn.kr</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.9/dist/web/static/pretendard.min.css" as="style">
    <link href="https://cdn.jsdelivr.net/npm/pretendard@1.3.9/dist/web/static/pretendard.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css?v=20260126f">
    <style>
        html { visibility: hidden; }
        html.fonts-loaded { visibility: visible; }
    </style>
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-single">
                <a href="./" class="logo-link logo-main" onclick="goToLanding(event)">Skinn.kr</a>
                <nav class="nav-tabs" role="tablist">
                    <button class="nav-tab" data-view="consult" role="tab" aria-selected="false">AI 상담</button>
                    <button class="nav-tab" data-view="concern" role="tab" aria-selected="false">고민별</button>
                    <button class="nav-tab" data-view="filter" role="tab" aria-selected="false">카드뷰</button>
                    <button class="nav-tab" data-view="table" role="tab" aria-selected="false">테이블뷰</button>
                </nav>
                <div class="header-actions">
                    <div class="lang-dropdown" id="langDropdown">
                        <button class="lang-toggle" id="langToggle">
                            <svg class="lang-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M2 12h20"/>
                                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                            </svg>
                            <span class="lang-current">한</span>
                            <svg class="lang-arrow" width="10" height="10" viewBox="0 0 10 10" fill="none">
                                <path d="M2 4L5 7L8 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                        </button>
                        <div class="lang-menu" id="langMenu">
                            <button class="lang-option active" data-lang="ko">한국어</button>
                            <button class="lang-option" data-lang="en">English</button>
                            <button class="lang-option" data-lang="ja">日本語</button>
                            <button class="lang-option" data-lang="zh">中文</button>
                        </div>
                    </div>
                    <button class="auth-btn login-btn" id="loginBtn">로그인</button>
                    <button class="auth-btn signup-btn" id="signupBtn">회원가입</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            
            <!-- Landing Page -->
            <section class="view-panel active" id="view-landing">
                <div class="landing-fullscreen">
                    <div class="landing-left">
                        <!-- Mobile Hero Row: Text + Image -->
                        <div class="mobile-hero-row">
                            <div class="mobile-hero-text">
                                <div class="landing-badge">서울 피부과 가이드</div>
                                <h1 class="landing-title">피부과 시술,<br><span class="highlight">준비된 상태</span>로<br>상담받으세요</h1>
                            </div>
                            <div class="mobile-hero-img">
                                <img src="images/bg.png" alt="건강한 피부" width="100" height="120" loading="eager">
                            </div>
                        </div>
                        <!-- Desktop: Badge & Title shown separately -->
                        <div class="desktop-hero-text">
                            <div class="landing-badge">서울 피부과 가이드</div>
                            <h1 class="landing-title">피부과 시술,<br><span class="highlight">준비된 상태</span>로<br>상담받으세요</h1>
                        </div>
                        <p class="landing-subtitle">
                            1,000개 피부과 정보와 15만 건의 후기 데이터.<br>
                            <strong>나에게 맞는 시술과 적정 가격</strong>을 미리 파악하고<br>
                            주도적으로 상담받으세요.
                        </p>
                        <button class="cta-button-main" onclick="switchToView('consult')" aria-label="AI 맞춤 상담 시작하기">
                            <span class="cta-shimmer" aria-hidden="true"></span>
                            <span class="cta-text">AI 맞춤 상담 시작하기</span>
                            <span class="cta-pulse" aria-hidden="true"></span>
                        </button>

                        <div class="landing-features">
                            <div class="feature-item">
                                <span class="feature-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="20 6 9 17 4 12"/>
                                    </svg>
                                </span>
                                <span class="feature-text">예산에 맞는 시술 조합 추천</span>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="20 6 9 17 4 12"/>
                                    </svg>
                                </span>
                                <span class="feature-text">다운타임 · 통증 수준 비교</span>
                            </div>
                            <div class="feature-item">
                                <span class="feature-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="20 6 9 17 4 12"/>
                                    </svg>
                                </span>
                                <span class="feature-text">피부과 전문의 검증 정보</span>
                            </div>
                        </div>

                        <!-- Live Activity Indicator -->
                        <div class="live-activity" role="status" aria-live="polite">
                            <span class="live-dot" aria-hidden="true"></span>
                            <span class="live-text">지금 <strong id="liveUsers">7</strong>명이 접속 중</span>
                            <span class="live-divider">·</span>
                            <span class="live-text">오늘 <strong id="todayVisitors">1</strong>명 방문</span>
                        </div>

                        <div class="landing-stats-bar">
                            <div class="stat-item">
                                <span class="stat-num" data-count="1000">1,000+</span>
                                <span class="stat-label">피부과 정보 수집</span>
                            </div>
                            <div class="stat-divider"></div>
                            <div class="stat-item">
                                <span class="stat-num" data-count="150000">15만+</span>
                                <span class="stat-label">시술 후기 분석</span>
                            </div>
                            <div class="stat-divider"></div>
                            <div class="stat-item">
                                <span class="stat-num" id="treatmentCount">--</span>
                                <span class="stat-label">검증된 시술 DB</span>
                            </div>
                        </div>

                        <!-- Trust Badges - Professional & Colorful -->
                        <div class="trust-badges-pro">
                            <div class="trust-badge-pro verified">
                                <span class="badge-icon-wrap">
                                    <svg viewBox="0 0 24 24" fill="none">
                                        <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" stroke="currentColor" stroke-width="1.5" fill="currentColor" fill-opacity="0.1"/>
                                    </svg>
                                </span>
                                <span class="badge-content">
                                    <span class="badge-label">검증된 정보</span>
                                    <span class="badge-sub">Verified</span>
                                </span>
                            </div>
                            <div class="trust-badge-pro secure">
                                <span class="badge-icon-wrap">
                                    <svg viewBox="0 0 24 24" fill="none">
                                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke="currentColor" stroke-width="1.5" fill="currentColor" fill-opacity="0.1"/>
                                        <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </span>
                                <span class="badge-content">
                                    <span class="badge-label">개인정보 보호</span>
                                    <span class="badge-sub">Secure</span>
                                </span>
                            </div>
                            <div class="trust-badge-pro data">
                                <span class="badge-icon-wrap">
                                    <svg viewBox="0 0 24 24" fill="none">
                                        <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.5" fill="currentColor" fill-opacity="0.1"/>
                                        <path d="M7 16V12" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
                                        <path d="M12 16V8" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
                                        <path d="M17 16v-3" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
                                    </svg>
                                </span>
                                <span class="badge-content">
                                    <span class="badge-label">맞춤형 분석</span>
                                    <span class="badge-sub">Customized</span>
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- Mobile Hero Visual (shown only on mobile) -->
                    <div class="mobile-hero-visual" aria-hidden="true">
                        <div class="mobile-hero-card">
                            <div class="hero-card-icon">🔬</div>
                            <div class="hero-card-text">
                                <span class="hero-card-title">AI 기반 분석</span>
                                <span class="hero-card-desc">15만+ 후기 데이터</span>
                            </div>
                        </div>
                    </div>

                    <div class="landing-right">
                        <!-- Hero Image -->
                        <div class="landing-hero-image">
                            <img src="images/bg.png" alt="건강한 피부" class="hero-img" width="400" height="450" loading="eager">
                            <div class="hero-overlay"></div>
                        </div>

                        <div class="landing-card-row">
                            <div class="landing-card horizontal" role="button" tabindex="0" onclick="switchToView('concern')" onkeydown="if(event.key==='Enter'||event.key===' ')switchToView('concern')">
                                <span class="card-icon" aria-hidden="true">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <circle cx="11" cy="11" r="8"/>
                                        <path d="M21 21l-4.35-4.35"/>
                                    </svg>
                                </span>
                                <div class="card-content">
                                    <span class="card-title">고민별 시술 찾기</span>
                                    <p class="card-desc-small">주름, 탄력, 모공, 기미 등 내 고민에 맞는 시술</p>
                                </div>
                                <span class="card-arrow" aria-hidden="true">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M9 18l6-6-6-6"/>
                                    </svg>
                                </span>
                            </div>
                            <div class="landing-card horizontal" role="button" tabindex="0" onclick="switchToView('filter')" onkeydown="if(event.key==='Enter'||event.key===' ')switchToView('filter')">
                                <span class="card-icon" aria-hidden="true">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="3" y="3" width="7" height="7" rx="1"/>
                                        <rect x="14" y="3" width="7" height="7" rx="1"/>
                                        <rect x="3" y="14" width="7" height="7" rx="1"/>
                                        <rect x="14" y="14" width="7" height="7" rx="1"/>
                                    </svg>
                                </span>
                                <div class="card-content">
                                    <span class="card-title">전체 시술 검색</span>
                                    <p class="card-desc-small"><span class="dynamic-count"></span>개 시술 자유롭게 비교</p>
                                </div>
                                <span class="card-arrow" aria-hidden="true">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M9 18l6-6-6-6"/>
                                    </svg>
                                </span>
                            </div>
                        </div>

                        <!-- Compact Testimonial - 오른쪽 카드 아래 -->
                        <div class="compact-testimonial">
                            <div class="compact-testimonial-inner" id="compactTestimonial">
                                <span class="compact-stars">★★★★★</span>
                                <span class="compact-quote">"울쎄라 가격 천차만별인데 여기서 시세 파악하고 갔더니 협상이 됐어요"</span>
                                <span class="compact-author">- par*****@***.com (한국)</span>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="landing-footer-bar">
                    <span>본 서비스는 참고용 정보이며, 실제 시술 전 전문의 상담을 권장합니다</span>
                </div>
            </section>

            <!-- View 0: AI 상담 -->
            <section class="view-panel" id="view-consult">
                <div class="consult-container">
                    <!-- 상담 진행 화면 -->
                    <div class="consult-wizard" id="consultWizard">
                        <div class="consult-header">
                            <div class="consult-avatar">
                                <svg viewBox="0 0 48 48" fill="none">
                                    <defs>
                                        <linearGradient id="avatarGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" stop-color="#059669"/>
                                            <stop offset="100%" stop-color="#10b981"/>
                                        </linearGradient>
                                    </defs>
                                    <circle cx="24" cy="24" r="22" fill="url(#avatarGrad)"/>
                                    <!-- AI 뉴런 패턴 -->
                                    <circle cx="24" cy="24" r="6" fill="white" opacity="0.95"/>
                                    <circle cx="24" cy="24" r="3" fill="#059669"/>
                                    <circle cx="14" cy="16" r="3" fill="white" opacity="0.8"/>
                                    <circle cx="34" cy="16" r="3" fill="white" opacity="0.8"/>
                                    <circle cx="14" cy="32" r="3" fill="white" opacity="0.8"/>
                                    <circle cx="34" cy="32" r="3" fill="white" opacity="0.8"/>
                                    <!-- 연결선 -->
                                    <path d="M17 18 L21 22" stroke="white" stroke-width="1.5" opacity="0.6"/>
                                    <path d="M31 18 L27 22" stroke="white" stroke-width="1.5" opacity="0.6"/>
                                    <path d="M17 30 L21 26" stroke="white" stroke-width="1.5" opacity="0.6"/>
                                    <path d="M31 30 L27 26" stroke="white" stroke-width="1.5" opacity="0.6"/>
                                </svg>
                            </div>
                            <div class="consult-title-area">
                                <h2 class="consult-title">맞춤 시술 상담</h2>
                                <p class="consult-subtitle">몇 가지 질문에 답변해 주시면 최적의 시술을 추천해 드리겠습니다</p>
                            </div>
                        </div>

                        <!-- Progress Bar -->
                        <div class="consult-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <span class="progress-text" id="progressText">1 / 6</span>
                        </div>

                        <!-- Step 1: 인사 + 연령대 -->
                        <div class="consult-step active" data-step="1">
                            <div class="step-message">
                                <p>안녕하세요. 피부과 전문 <strong>AI 상담사</strong>입니다.</p>
                                <p>정확한 시술 추천을 위해 기본 정보가 필요합니다. 연령대와 피부 타입에 따라 적합한 시술이 달라지기 때문입니다.</p>
                            </div>
                            <div class="step-questions">
                                <div class="question-group">
                                    <label class="question-label">연령대</label>
                                    <div class="option-grid cols-5">
                                        <button class="option-btn" data-field="age" data-value="10대">10대</button>
                                        <button class="option-btn" data-field="age" data-value="20대 초반">20대 초반</button>
                                        <button class="option-btn" data-field="age" data-value="20대 후반">20대 후반</button>
                                        <button class="option-btn" data-field="age" data-value="30대 초반">30대 초반</button>
                                        <button class="option-btn" data-field="age" data-value="30대 후반">30대 후반</button>
                                        <button class="option-btn" data-field="age" data-value="40대 초반">40대 초반</button>
                                        <button class="option-btn" data-field="age" data-value="40대 후반">40대 후반</button>
                                        <button class="option-btn" data-field="age" data-value="50대">50대</button>
                                        <button class="option-btn" data-field="age" data-value="60대 이상">60대 이상</button>
                                    </div>
                                </div>
                                <div class="question-group">
                                    <label class="question-label">피부 타입</label>
                                    <div class="option-grid cols-5">
                                        <button class="option-btn" data-field="skinType" data-value="건성">건성 (당김)</button>
                                        <button class="option-btn" data-field="skinType" data-value="지성">지성 (번들거림)</button>
                                        <button class="option-btn" data-field="skinType" data-value="복합성">복합성</button>
                                        <button class="option-btn" data-field="skinType" data-value="민감성">민감성</button>
                                        <button class="option-btn" data-field="skinType" data-value="모름">잘 모르겠어요</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: 고민 선택 -->
                        <div class="consult-step" data-step="2">
                            <div class="step-message">
                                <p>피부 고민을 선택해 주세요. <strong>핵심 고민</strong>과 <strong>부가 고민</strong>을 구분해주시면 더 정확한 시술 조합을 제안드릴 수 있습니다.</p>
                                <p class="step-hint-small">💡 처음 3개는 핵심 고민, 이후는 부가 고민으로 자동 분류됩니다. 드래그 앤 드롭으로 자유롭게 이동할 수 있어요.</p>
                            </div>
                            <div class="step-questions">
                                <div class="priority-selector">
                                    <div class="concern-source">
                                        <h4 class="source-title">고민 목록 <span class="source-hint">클릭해서 추가하세요</span></h4>
                                        <div class="concern-categories">
                                            <div class="concern-category">
                                                <span class="cat-label">노화/리프팅</span>
                                                <div class="concern-chips">
                                                    <button class="concern-chip" data-value="처진피부">처진 피부</button>
                                                    <button class="concern-chip" data-value="주름">주름</button>
                                                    <button class="concern-chip" data-value="탄력저하">탄력 저하</button>
                                                    <button class="concern-chip" data-value="볼륨손실">볼륨 손실</button>
                                                    <button class="concern-chip" data-value="이중턱">이중턱</button>
                                                    <button class="concern-chip" data-value="팔자주름">팔자</button>
                                                </div>
                                            </div>
                                            <div class="concern-category">
                                                <span class="cat-label">피부결/톤</span>
                                                <div class="concern-chips">
                                                    <button class="concern-chip" data-value="모공">모공</button>
                                                    <button class="concern-chip" data-value="기미잡티">기미/잡티</button>
                                                    <button class="concern-chip" data-value="피부결">피부결</button>
                                                    <button class="concern-chip" data-value="피부톤">피부톤</button>
                                                    <button class="concern-chip" data-value="홍조">홍조</button>
                                                    <button class="concern-chip" data-value="색소침착">색소</button>
                                                </div>
                                            </div>
                                            <div class="concern-category">
                                                <span class="cat-label">트러블/흉터</span>
                                                <div class="concern-chips">
                                                    <button class="concern-chip" data-value="여드름">여드름</button>
                                                    <button class="concern-chip" data-value="여드름흉터">여드름흉터</button>
                                                    <button class="concern-chip" data-value="흉터">흉터</button>
                                                    <button class="concern-chip" data-value="튼살">튼살</button>
                                                </div>
                                            </div>
                                            <div class="concern-category">
                                                <span class="cat-label">기타</span>
                                                <div class="concern-chips">
                                                    <button class="concern-chip" data-value="다크서클">다크서클</button>
                                                    <button class="concern-chip" data-value="제모">제모</button>
                                                    <button class="concern-chip" data-value="탈모">탈모</button>
                                                    <button class="concern-chip" data-value="다한증">다한증</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="priority-targets">
                                        <div class="priority-box primary">
                                            <div class="priority-header">
                                                <h4>핵심 고민 <span class="header-badge">최대 3개</span></h4>
                                            </div>
                                            <p class="priority-hint">예산의 80% 이상 집중 · 드래그로 이동 가능</p>
                                            <div class="priority-dropzone" id="primaryConcerns">
                                                <span class="dropzone-placeholder">고민을 클릭하면 여기에 추가됩니다</span>
                                            </div>
                                        </div>
                                        
                                        <div class="priority-box secondary">
                                            <div class="priority-header">
                                                <h4>부가 고민 <span class="header-badge secondary">선택</span></h4>
                                            </div>
                                            <p class="priority-hint">남은 예산으로 추가 · 드래그로 이동 가능</p>
                                            <div class="priority-dropzone" id="secondaryConcerns">
                                                <span class="dropzone-placeholder">4번째부터 자동 추가</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 3: 부위 선택 -->
                        <div class="consult-step" data-step="3">
                            <div class="step-message">
                                <p>시술을 원하시는 <strong>부위</strong>를 선택해 주세요. 같은 고민이라도 부위에 따라 적합한 시술이 다릅니다.</p>
                                <p>예를 들어, 눈가 주름과 이마 주름은 각각 다른 접근이 필요합니다.</p>
                            </div>
                            <div class="step-questions">
                                <div class="question-group">
                                    <label class="question-label">빠른 선택</label>
                                    <div class="option-grid cols-4 multi-select" data-field="areas">
                                        <button class="option-btn" data-value="얼굴전체">얼굴 전체</button>
                                        <button class="option-btn" data-value="얼굴상반부">상반부 (이마~코)</button>
                                        <button class="option-btn" data-value="얼굴하반부">하반부 (코~턱)</button>
                                        <button class="option-btn" data-value="전신">전신</button>
                                    </div>
                                </div>
                                <div class="question-group">
                                    <label class="question-label">얼굴 부위</label>
                                    <div class="option-grid cols-5 multi-select" data-field="areas">
                                        <button class="option-btn" data-value="이마">이마</button>
                                        <button class="option-btn" data-value="미간">미간</button>
                                        <button class="option-btn" data-value="눈가">눈가</button>
                                        <button class="option-btn" data-value="눈밑">눈밑</button>
                                        <button class="option-btn" data-value="코">코</button>
                                        <button class="option-btn" data-value="볼">볼</button>
                                        <button class="option-btn" data-value="광대">광대</button>
                                        <button class="option-btn" data-value="입주변">입 주변</button>
                                        <button class="option-btn" data-value="턱선">턱선/턱밑</button>
                                        <button class="option-btn" data-value="목">목</button>
                                        <button class="option-btn" data-value="두피">두피</button>
                                    </div>
                                </div>
                                <div class="question-group">
                                    <label class="question-label">바디 부위</label>
                                    <div class="option-grid cols-5 multi-select" data-field="areas">
                                        <button class="option-btn" data-value="손등">손등</button>
                                        <button class="option-btn" data-value="팔">팔</button>
                                        <button class="option-btn" data-value="겨드랑이">겨드랑이</button>
                                        <button class="option-btn" data-value="등">등</button>
                                        <button class="option-btn" data-value="가슴">가슴</button>
                                        <button class="option-btn" data-value="복부">복부</button>
                                        <button class="option-btn" data-value="허벅지">허벅지</button>
                                        <button class="option-btn" data-value="다리">다리</button>
                                        <button class="option-btn" data-value="비키니라인">비키니라인</button>
                                        <button class="option-btn" data-value="엉덩이">엉덩이</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 4: 예산 -->
                        <div class="consult-step" data-step="4">
                            <div class="step-message">
                                <p>시술에 투자할 수 있는 <strong>총 예산</strong>을 알려주세요. 예산에 맞춰 최적의 시술 조합을 설계해 드립니다.</p>
                                <p>병원마다 가격 차이가 있으니, 최저가 기준으로 계산하여 여유 있게 안내해 드립니다.</p>
                            </div>
                            <div class="step-questions">
                                <div class="question-group">
                                    <label class="question-label">총 예산 (만원)</label>
                                    <div class="budget-input-wrap">
                                        <input type="number" class="text-input budget-input" id="budgetInput" placeholder="예: 100" min="10" step="10">
                                        <span class="budget-unit">만원</span>
                                    </div>
                                    <div class="budget-presets">
                                        <button class="preset-btn" data-amount="50">50만원</button>
                                        <button class="preset-btn" data-amount="100">100만원</button>
                                        <button class="preset-btn" data-amount="200">200만원</button>
                                        <button class="preset-btn" data-amount="300">300만원</button>
                                        <button class="preset-btn" data-amount="500">500만원</button>
                                        <button class="preset-btn" data-amount="700">700만원</button>
                                        <button class="preset-btn" data-amount="1000">1000만원+</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 5: 다운타임 & 통증 -->
                        <div class="consult-step" data-step="5">
                            <div class="step-message">
                                <p><strong>회복 기간</strong>과 <strong>통증 민감도</strong>를 알려주세요. 일정이나 직업에 따라 다운타임이 중요한 분들이 많습니다.</p>
                                <p>같은 효과를 내는 시술도 회복 기간과 통증 정도가 다양하니, 맞춤 추천이 가능합니다.</p>
                            </div>
                            <div class="step-questions">
                                <div class="question-group">
                                    <label class="question-label">다운타임 (회복 기간) 허용 범위</label>
                                    <div class="option-grid cols-3">
                                        <button class="option-btn" data-field="downtime" data-value="없어야함">없어야 해요</button>
                                        <button class="option-btn" data-field="downtime" data-value="당일">당일만 가능</button>
                                        <button class="option-btn" data-field="downtime" data-value="1-2일">1~2일 OK</button>
                                        <button class="option-btn" data-field="downtime" data-value="3-4일">3~4일 OK</button>
                                        <button class="option-btn" data-field="downtime" data-value="일주일">일주일 OK</button>
                                        <button class="option-btn" data-field="downtime" data-value="상관없음">상관없어요</button>
                                    </div>
                                </div>
                                <div class="question-group">
                                    <label class="question-label">통증 민감도</label>
                                    <div class="option-grid cols-4">
                                        <button class="option-btn" data-field="pain" data-value="매우민감">매우 무서워요</button>
                                        <button class="option-btn" data-field="pain" data-value="민감">좀 무서워요</button>
                                        <button class="option-btn" data-field="pain" data-value="보통">보통이에요</button>
                                        <button class="option-btn" data-field="pain" data-value="괜찮음">잘 참아요</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 6: 시술 선호도 -->
                        <div class="consult-step" data-step="6">
                            <div class="step-message">
                                <p>선호하시는 <strong>시술 방식</strong>이 있으신가요? 주사, 레이저, 리프팅 장비 등 각각 장단점이 다릅니다.</p>
                                <p>특별히 선호하시는 방식이 없다면 '상관없음'을 선택해 주세요. 고민에 맞는 최적의 방식을 추천해 드립니다.</p>
                            </div>
                            <div class="step-questions">
                                <div class="question-group">
                                    <label class="question-label">선호하는 시술 방식</label>
                                    <div class="option-grid cols-2 multi-select" data-field="treatmentType">
                                        <button class="option-btn selected" data-value="상관없음"><span class="btn-title">상관없어요</span><span class="opt-hint">전문가 추천</span></button>
                                        <button class="option-btn" data-value="주사"><span class="btn-title">주사 시술</span><span class="opt-hint">보톡스, 필러, 스킨부스터 등</span></button>
                                        <button class="option-btn" data-value="레이저"><span class="btn-title">레이저/광</span><span class="opt-hint">토닝, IPL, 프락셀 등</span></button>
                                        <button class="option-btn" data-value="리프팅"><span class="btn-title">리프팅 장비</span><span class="opt-hint">울쎄라, 써마지, 실리프팅 등</span></button>
                                        <button class="option-btn" data-value="스킨케어"><span class="btn-title">스킨케어</span><span class="opt-hint">필링, 스케일링 등</span></button>
                                    </div>
                                </div>
                                <div class="question-group">
                                    <label class="question-label">효과 유지 기간 선호</label>
                                    <div class="option-grid cols-3">
                                        <button class="option-btn" data-field="duration" data-value="단기"><span class="btn-title">3~6개월</span><span class="opt-hint">부담 적게 시작</span></button>
                                        <button class="option-btn selected" data-field="duration" data-value="중기"><span class="btn-title">6~12개월<span class="recommend-badge">추천</span></span><span class="opt-hint">적당한 유지</span></button>
                                        <button class="option-btn" data-field="duration" data-value="장기"><span class="btn-title">1년 이상</span><span class="opt-hint">오래 가는 시술</span></button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 7: 우선순위 & 빈도 -->
                        <div class="consult-step" data-step="7">
                            <div class="step-message">
                                <p>마지막으로 <strong>우선순위</strong>와 <strong>시술 계획</strong>을 알려주세요. 효과, 편안함, 가성비 중 무엇을 중시하시는지에 따라 추천이 달라집니다.</p>
                                <p>입력하신 정보를 바탕으로 <span class="dynamic-count"></span>개 시술 DB를 분석하여 맞춤 조합을 제안해 드리겠습니다.</p>
                            </div>
                            <div class="step-questions">
                                <div class="question-group">
                                    <label class="question-label">가장 중요하게 생각하는 것</label>
                                    <div class="option-grid cols-3">
                                        <button class="option-btn selected" data-field="priority" data-value="효과"><span class="btn-title">효과 중시<span class="recommend-badge">추천</span></span><span class="opt-hint">다소 아파도 OK</span></button>
                                        <button class="option-btn" data-field="priority" data-value="편안함"><span class="btn-title">편안함 중시</span><span class="opt-hint">약한 시술 선호</span></button>
                                        <button class="option-btn" data-field="priority" data-value="가성비"><span class="btn-title">가성비 중시</span><span class="opt-hint">비용 대비 효과</span></button>
                                    </div>
                                </div>
                                <div class="question-group">
                                    <label class="question-label">시술 계획</label>
                                    <div class="option-grid cols-3">
                                        <button class="option-btn" data-field="frequency" data-value="1회성"><span class="btn-title">1회성</span><span class="opt-hint">특별 이벤트 전</span></button>
                                        <button class="option-btn selected" data-field="frequency" data-value="정기"><span class="btn-title">정기 관리<span class="recommend-badge">추천</span></span><span class="opt-hint">꾸준한 피부 관리</span></button>
                                        <button class="option-btn" data-field="frequency" data-value="비정기"><span class="btn-title">비정기적</span><span class="opt-hint">필요할 때만</span></button>
                                    </div>
                                </div>
                                <div class="question-group">
                                    <label class="question-label">이전에 해본 시술 (선택)</label>
                                    <div class="option-grid cols-4 multi-select" data-field="pastTreatments">
                                        <button class="option-btn" data-value="보톡스">보톡스</button>
                                        <button class="option-btn" data-value="필러">필러</button>
                                        <button class="option-btn" data-value="리프팅">리프팅</button>
                                        <button class="option-btn" data-value="레이저토닝">레이저토닝</button>
                                        <button class="option-btn" data-value="스킨부스터">스킨부스터</button>
                                        <button class="option-btn" data-value="필링">필링</button>
                                        <button class="option-btn" data-value="IPL">IPL</button>
                                        <button class="option-btn" data-value="없음">없어요</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Navigation -->
                        <div class="consult-nav">
                            <button class="nav-btn prev" id="prevBtn" disabled>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M15 18l-6-6 6-6"/>
                                </svg>
                                이전
                            </button>
                            <button class="nav-btn next" id="nextBtn">
                                다음
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 18l6-6-6-6"/>
                                </svg>
                            </button>
                            <button class="nav-btn submit hidden" id="submitBtn">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M5 12h14M12 5l7 7-7 7"/>
                                </svg>
                                상담 결과 보기
                            </button>
                        </div>
                    </div>

                    <!-- 결과 화면 -->
                    <div class="consult-result hidden" id="consultResult">
                        <div class="result-header">
                            <button class="back-btn" id="backToConsult">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M15 18l-6-6 6-6"/>
                                </svg>
                                다시 상담하기
                            </button>
                        </div>
                        <div class="result-content" id="resultContent">
                            <!-- AI 응답이 여기에 표시됨 -->
                        </div>
                    </div>

                    <!-- 로딩 화면 -->
                    <div class="consult-loading hidden" id="consultLoading">
                        <div class="loading-animation">
                            <div class="loading-dots">
                                <span></span><span></span><span></span>
                            </div>
                            <p class="loading-message" id="loadingMessage">맞춤 시술을 분석하고 있어요...</p>
                            <div class="loading-progress">
                                <div class="progress-steps">
                                    <div class="progress-step active" id="loadingStep1">
                                        <span class="step-icon">📋</span>
                                        <span class="step-text">요청 준비</span>
                                    </div>
                                    <div class="progress-step" id="loadingStep2">
                                        <span class="step-icon">🔗</span>
                                        <span class="step-text">서버 연결</span>
                                    </div>
                                    <div class="progress-step" id="loadingStep3">
                                        <span class="step-icon">🤖</span>
                                        <span class="step-text">AI 분석 중</span>
                                    </div>
                                    <div class="progress-step" id="loadingStep4">
                                        <span class="step-icon">✨</span>
                                        <span class="step-text">결과 생성</span>
                                    </div>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="loadingProgressFill"></div>
                                </div>
                                <p class="progress-time" id="progressTime">경과 시간: 0초</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- View 1: 고민별 찾기 -->
            <section class="view-panel" id="view-concern">
                <div class="concern-grid">
                    <button class="concern-card" data-concern="처진피부">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <defs>
                                    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" stop-color="#c7d2fe"/>
                                        <stop offset="100%" stop-color="#a5b4fc"/>
                                    </linearGradient>
                                </defs>
                                <circle cx="24" cy="24" r="20" fill="url(#grad1)" opacity="0.4"/>
                                <path d="M16 18 L16 28 Q16 34 24 36 Q32 34 32 28 L32 18" stroke="#059669" stroke-width="2.5" stroke-linecap="round" fill="none"/>
                                <path d="M20 26 L24 32 L28 26" stroke="#059669" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">처진 피부</span>
                                <span class="concern-count" data-concern-count="처진피부">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">턱선이 흐릿해졌어요</span>
                                <span class="concern-bullet">볼살이 아래로 처졌어요</span>
                                <span class="concern-bullet">얼굴이 길어 보여요</span>
                            </div>
                        </div>
                    </button>
                    <button class="concern-card" data-concern="주름">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="20" fill="#c7d2fe" opacity="0.4"/>
                                <path d="M12 18 Q24 14 36 18" stroke="#059669" stroke-width="2.5" stroke-linecap="round" fill="none"/>
                                <path d="M12 26 Q24 22 36 26" stroke="#059669" stroke-width="2.5" stroke-linecap="round" fill="none"/>
                                <path d="M12 34 Q24 30 36 34" stroke="#059669" stroke-width="2.5" stroke-linecap="round" fill="none"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">주름</span>
                                <span class="concern-count" data-concern-count="주름">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">이마에 가로 주름이 생겼어요</span>
                                <span class="concern-bullet">눈가 잔주름이 늘었어요</span>
                                <span class="concern-bullet">웃을 때 주름이 남아요</span>
                            </div>
                        </div>
                    </button>
                    <button class="concern-card" data-concern="탄력저하">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="20" fill="#c7d2fe" opacity="0.4"/>
                                <circle cx="24" cy="24" r="12" stroke="#059669" stroke-width="2.5" stroke-dasharray="4 3" fill="none"/>
                                <circle cx="24" cy="24" r="5" fill="#059669" opacity="0.6"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">탄력 저하</span>
                                <span class="concern-count" data-concern-count="탄력저하">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">피부가 푸석푸석해요</span>
                                <span class="concern-bullet">탱탱한 느낌이 없어요</span>
                                <span class="concern-bullet">화장이 잘 안 먹어요</span>
                            </div>
                        </div>
                    </button>
                    <button class="concern-card" data-concern="모공">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="20" fill="#c7d2fe" opacity="0.4"/>
                                <circle cx="16" cy="16" r="4" fill="#059669" opacity="0.7"/>
                                <circle cx="32" cy="18" r="3" fill="#059669" opacity="0.5"/>
                                <circle cx="24" cy="26" r="5" fill="#059669" opacity="0.6"/>
                                <circle cx="14" cy="30" r="2.5" fill="#059669" opacity="0.4"/>
                                <circle cx="34" cy="32" r="3" fill="#059669" opacity="0.5"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">모공</span>
                                <span class="concern-count" data-concern-count="모공">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">코 주변 모공이 커요</span>
                                <span class="concern-bullet">볼 모공이 눈에 띄어요</span>
                                <span class="concern-bullet">피지가 많이 나요</span>
                            </div>
                        </div>
                    </button>
                    <button class="concern-card" data-concern="기미/잡티">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="20" fill="#c7d2fe" opacity="0.4"/>
                                <ellipse cx="16" cy="22" rx="6" ry="4" fill="#059669" opacity="0.5"/>
                                <ellipse cx="32" cy="22" rx="6" ry="4" fill="#059669" opacity="0.5"/>
                                <circle cx="24" cy="34" r="3" fill="#059669" opacity="0.4"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">기미 / 잡티</span>
                                <span class="concern-count" data-concern-count="기미/잡티">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">광대뼈에 기미가 생겼어요</span>
                                <span class="concern-bullet">잡티가 점점 늘어요</span>
                                <span class="concern-bullet">피부톤이 칙칙해요</span>
                            </div>
                        </div>
                    </button>
                    <button class="concern-card" data-concern="여드름">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="20" fill="#c7d2fe" opacity="0.4"/>
                                <circle cx="16" cy="18" r="4" fill="#059669" opacity="0.7"/>
                                <circle cx="32" cy="20" r="3.5" fill="#059669" opacity="0.6"/>
                                <circle cx="20" cy="32" r="4" fill="#059669" opacity="0.7"/>
                                <circle cx="34" cy="30" r="2.5" fill="#059669" opacity="0.5"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">여드름</span>
                                <span class="concern-count" data-concern-count="여드름">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">뾰루지가 자꾸 나요</span>
                                <span class="concern-bullet">턱 라인에 트러블이 많아요</span>
                                <span class="concern-bullet">짜도 또 생겨요</span>
                            </div>
                        </div>
                    </button>
                    <button class="concern-card" data-concern="볼륨손실">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="20" fill="#c7d2fe" opacity="0.4"/>
                                <path d="M14 20 Q14 32 24 36 Q34 32 34 20" stroke="#059669" stroke-width="2.5" stroke-linecap="round" fill="none" stroke-dasharray="5 3"/>
                                <circle cx="18" cy="26" r="4" stroke="#059669" stroke-width="2" stroke-dasharray="3 2" fill="none"/>
                                <circle cx="30" cy="26" r="4" stroke="#059669" stroke-width="2" stroke-dasharray="3 2" fill="none"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">볼륨 손실</span>
                                <span class="concern-count" data-concern-count="볼륨손실">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">볼이 꺼져 보여요</span>
                                <span class="concern-bullet">팔자주름이 깊어졌어요</span>
                                <span class="concern-bullet">얼굴이 빈약해 보여요</span>
                            </div>
                        </div>
                    </button>
                    <button class="concern-card" data-concern="흉터">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="20" fill="#c7d2fe" opacity="0.4"/>
                                <rect x="12" y="16" rx="2" width="8" height="6" fill="#059669" opacity="0.5"/>
                                <rect x="26" y="20" rx="2" width="10" height="5" fill="#059669" opacity="0.6"/>
                                <rect x="16" y="28" rx="2" width="12" height="6" fill="#059669" opacity="0.4"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">흉터</span>
                                <span class="concern-count" data-concern-count="흉터">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">여드름 자국이 남았어요</span>
                                <span class="concern-bullet">피부가 울퉁불퉁해요</span>
                                <span class="concern-bullet">패인 흉터가 있어요</span>
                            </div>
                        </div>
                    </button>
                    <button class="concern-card" data-concern="제모">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="20" fill="#c7d2fe" opacity="0.4"/>
                                <path d="M20 12 L20 36" stroke="#059669" stroke-width="2.5" stroke-linecap="round"/>
                                <path d="M28 12 L28 36" stroke="#059669" stroke-width="2.5" stroke-linecap="round"/>
                                <path d="M14 20 L34 20" stroke="#059669" stroke-width="2" stroke-linecap="round" opacity="0.6"/>
                                <path d="M14 28 L34 28" stroke="#059669" stroke-width="2" stroke-linecap="round" opacity="0.6"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">제모</span>
                                <span class="concern-count" data-concern-count="제모">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">면도가 귀찮아요</span>
                                <span class="concern-bullet">털이 금방 다시 나요</span>
                                <span class="concern-bullet">제모 후 피부가 까칠해요</span>
                            </div>
                        </div>
                    </button>
                    <button class="concern-card" data-concern="바디">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="20" fill="#c7d2fe" opacity="0.4"/>
                                <circle cx="24" cy="12" r="5" fill="#059669" opacity="0.7"/>
                                <path d="M24 17 L24 28" stroke="#059669" stroke-width="3" stroke-linecap="round"/>
                                <path d="M24 28 L18 38" stroke="#059669" stroke-width="2.5" stroke-linecap="round"/>
                                <path d="M24 28 L30 38" stroke="#059669" stroke-width="2.5" stroke-linecap="round"/>
                                <path d="M16 22 L24 20 L32 22" stroke="#059669" stroke-width="2.5" stroke-linecap="round" fill="none"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">바디</span>
                                <span class="concern-count" data-concern-count="바디">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">뱃살이 안 빠져요</span>
                                <span class="concern-bullet">팔뚝살이 신경쓰여요</span>
                                <span class="concern-bullet">허벅지 셀룰라이트가 있어요</span>
                            </div>
                        </div>
                    </button>
                    <button class="concern-card" data-concern="탈모">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="20" fill="#c7d2fe" opacity="0.4"/>
                                <ellipse cx="24" cy="26" rx="12" ry="10" fill="#059669" opacity="0.3"/>
                                <path d="M14 22 Q18 14 24 14 Q30 14 34 22" stroke="#059669" stroke-width="2.5" stroke-linecap="round" fill="none"/>
                                <path d="M18 10 L16 6" stroke="#059669" stroke-width="2" stroke-linecap="round" opacity="0.6"/>
                                <path d="M24 8 L24 4" stroke="#059669" stroke-width="2" stroke-linecap="round" opacity="0.6"/>
                                <path d="M30 10 L32 6" stroke="#059669" stroke-width="2" stroke-linecap="round" opacity="0.6"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">탈모</span>
                                <span class="concern-count" data-concern-count="탈모">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">머리카락이 많이 빠져요</span>
                                <span class="concern-bullet">정수리가 비어 보여요</span>
                                <span class="concern-bullet">이마가 넓어진 것 같아요</span>
                            </div>
                        </div>
                    </button>
                    <button class="concern-card" data-concern="점/사마귀">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="20" fill="#c7d2fe" opacity="0.4"/>
                                <circle cx="16" cy="16" r="5" fill="#059669" opacity="0.8"/>
                                <circle cx="32" cy="20" r="3.5" fill="#059669" opacity="0.6"/>
                                <circle cx="20" cy="32" r="4" fill="#059669" opacity="0.7"/>
                                <circle cx="34" cy="34" r="2.5" fill="#059669" opacity="0.5"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">점 / 사마귀</span>
                                <span class="concern-count" data-concern-count="점/사마귀">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">점이 커지거나 늘었어요</span>
                                <span class="concern-bullet">사마귀가 거슬려요</span>
                                <span class="concern-bullet">검버섯이 생겼어요</span>
                            </div>
                        </div>
                    </button>
                    <button class="concern-card" data-concern="다한증/액취">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="20" fill="#c7d2fe" opacity="0.4"/>
                                <path d="M18 14 L18 20 Q18 24 22 24 L26 24 Q30 24 30 20 L30 14" stroke="#059669" stroke-width="2.5" stroke-linecap="round" fill="none"/>
                                <path d="M16 28 Q16 32 18 34" stroke="#059669" stroke-width="2" stroke-linecap="round" opacity="0.7"/>
                                <path d="M24 30 Q24 34 24 38" stroke="#059669" stroke-width="2" stroke-linecap="round" opacity="0.7"/>
                                <path d="M32 28 Q32 32 30 34" stroke="#059669" stroke-width="2" stroke-linecap="round" opacity="0.7"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">다한증 / 액취</span>
                                <span class="concern-count" data-concern-count="다한증/액취">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">땀이 너무 많이 나요</span>
                                <span class="concern-bullet">겨드랑이 냄새가 나요</span>
                                <span class="concern-bullet">옷에 땀 자국이 생겨요</span>
                            </div>
                        </div>
                    </button>
                    <button class="concern-card" data-concern="필링">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="20" fill="#c7d2fe" opacity="0.4"/>
                                <rect x="10" y="24" rx="3" width="28" height="14" fill="#059669" opacity="0.3"/>
                                <path d="M10 24 Q18 16 24 20 Q30 24 38 18" stroke="#059669" stroke-width="2.5" stroke-linecap="round" fill="none"/>
                                <path d="M12 20 Q20 12 28 16 Q36 20 40 14" stroke="#059669" stroke-width="2" stroke-linecap="round" fill="none" opacity="0.5"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">필링</span>
                                <span class="concern-count" data-concern-count="필링">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">피부결이 거칠어요</span>
                                <span class="concern-bullet">각질이 자주 일어나요</span>
                                <span class="concern-bullet">칙칙하고 생기가 없어요</span>
                            </div>
                        </div>
                    </button>
                    <button class="concern-card" data-concern="스킨케어">
                        <div class="concern-icon">
                            <svg viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="20" fill="#c7d2fe" opacity="0.4"/>
                                <path d="M20 10 L20 14 L28 14 L28 10 Q28 6 24 6 Q20 6 20 10Z" fill="#059669" opacity="0.6"/>
                                <rect x="16" y="14" rx="4" width="16" height="28" fill="#059669" opacity="0.7"/>
                                <path d="M20 22 L28 22" stroke="white" stroke-width="2" stroke-linecap="round" opacity="0.8"/>
                                <path d="M24 18 L24 26" stroke="white" stroke-width="2" stroke-linecap="round" opacity="0.8"/>
                            </svg>
                        </div>
                        <div class="concern-content">
                            <div class="concern-header">
                                <span class="concern-title">스킨케어</span>
                                <span class="concern-count" data-concern-count="스킨케어">0개</span>
                            </div>
                            <div class="concern-bullets">
                                <span class="concern-bullet">전체적으로 컨디션이 안 좋아요</span>
                                <span class="concern-bullet">피부 관리를 시작하고 싶어요</span>
                                <span class="concern-bullet">촉촉하고 건강한 피부를 원해요</span>
                            </div>
                        </div>
                    </button>
                </div>

                <!-- Concern Result Panel -->
                <div class="concern-result hidden" id="concernResult">
                    <div class="concern-result-header">
                        <button class="back-btn" id="backBtn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M19 12H5M12 19l-7-7 7-7"/>
                            </svg>
                            돌아가기
                        </button>
                        <h2 class="concern-result-title" id="concernTitle">처진 피부</h2>
                    </div>
                    
                    <!-- Budget Filter -->
                    <div class="budget-filter">
                        <span class="filter-label">💵 예산</span>
                        <div class="range-values inline-values">
                            <span id="concernBudgetMinValue">0</span>
                            <span>~</span>
                            <span id="concernBudgetMaxValue">200+</span>
                            <span>만원</span>
                        </div>
                        <div class="dual-range-wrapper inline-range">
                            <div class="dual-range-track"></div>
                            <input type="range" id="concernBudgetMin" min="0" max="200" value="0">
                            <input type="range" id="concernBudgetMax" min="0" max="200" value="200">
                        </div>
                    </div>

                    <div class="concern-treatments" id="concernTreatments"></div>
                </div>
            </section>

            <!-- View 2: 맞춤 필터 -->
            <section class="view-panel" id="view-filter">
                <div class="filter-container">
                    <div class="filter-sidebar">
                        <div class="filter-group">
                            <label class="filter-label">💵 예산</label>
                            <div class="slider-row">
                                <span class="slider-label">0</span>
                                <div class="dual-range-wrapper">
                                    <div class="dual-range-track"></div>
                                    <input type="range" id="budgetMin" min="0" max="200" value="0">
                                    <input type="range" id="budgetMax" min="0" max="200" value="200">
                                </div>
                                <span class="slider-label">200+</span>
                                <span class="slider-value" id="budgetDisplay">전체</span>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="filter-label">🕐 다운타임</label>
                            <div class="slider-row">
                                <span class="slider-label">없음</span>
                                <input type="range" id="downtimeRange" min="0" max="2" value="2" step="1" class="range-slider">
                                <span class="slider-label">1주+</span>
                                <span class="slider-value" id="downtimeValue">전체</span>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="filter-label">⚡ 통증</label>
                            <div class="slider-row">
                                <span class="slider-label">무통</span>
                                <input type="range" id="painRange" min="0" max="5" value="5" step="0.5" class="range-slider">
                                <span class="slider-label">아픔</span>
                                <span class="slider-value" id="painValue">5</span>
                            </div>
                        </div>

                        <div class="filter-group">
                            <div class="filter-label-row">
                                <label class="filter-label">📁 카테고리</label>
                                <div class="sidebar-actions">
                                    <button class="mini-btn" id="filterSelectAll">전체</button>
                                    <button class="mini-btn" id="filterDeselectAll">해제</button>
                                </div>
                            </div>
                            <div class="category-grid" id="categoryCheckboxList">
                                <!-- 동적으로 생성됨 -->
                            </div>
                        </div>

                        <button class="reset-btn" id="resetFilters">초기화</button>
                    </div>

                    <div class="filter-results">
                        <div class="results-grid" id="filterResults"></div>
                    </div>
                </div>
            </section>

            <!-- View 3: 테이블 뷰 -->
            <section class="view-panel" id="view-table">
                <div class="table-layout">
                    <div class="filter-sidebar">
                        <div class="filter-group">
                            <label class="filter-label">💵 예산</label>
                            <div class="slider-row">
                                <span class="slider-label">0</span>
                                <div class="dual-range-wrapper">
                                    <div class="dual-range-track"></div>
                                    <input type="range" id="tableBudgetMin" min="0" max="200" value="0">
                                    <input type="range" id="tableBudgetMax" min="0" max="200" value="200">
                                </div>
                                <span class="slider-label">200+</span>
                                <span class="slider-value" id="tableBudgetDisplay">전체</span>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="filter-label">🕐 다운타임</label>
                            <div class="slider-row">
                                <span class="slider-label">없음</span>
                                <input type="range" id="tableDowntimeRange" min="0" max="2" value="2" step="1" class="range-slider">
                                <span class="slider-label">1주+</span>
                                <span class="slider-value" id="tableDowntimeValue">전체</span>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="filter-label">⚡ 통증</label>
                            <div class="slider-row">
                                <span class="slider-label">무통</span>
                                <input type="range" id="tablePainRange" min="0" max="5" value="5" step="0.5" class="range-slider">
                                <span class="slider-label">아픔</span>
                                <span class="slider-value" id="tablePainValue">5</span>
                            </div>
                        </div>

                        <div class="filter-group">
                            <div class="filter-label-row">
                                <label class="filter-label">📁 카테고리</label>
                                <div class="sidebar-actions">
                                    <button class="mini-btn" id="tableSelectAll">전체</button>
                                    <button class="mini-btn" id="tableDeselectAll">해제</button>
                                </div>
                            </div>
                            <div class="category-grid" id="tableCategoryList">
                                <!-- 동적으로 생성됨 -->
                            </div>
                        </div>

                        <button class="reset-btn" id="resetTableFilters">초기화</button>
                    </div>
                    <div class="table-main">
                        <div class="table-wrapper">
                            <table class="data-table" id="dataTable">
                                <thead>
                                    <tr>
                                        <th data-sort="name" class="sortable">시술명</th>
                                        <th data-sort="brand" class="sortable">브랜드</th>
                                        <th data-sort="category" class="sortable">카테고리</th>
                                        <th>효과</th>
                                        <th data-sort="duration" class="sortable">지속</th>
                                        <th data-sort="pain" class="sortable">통증</th>
                                        <th data-sort="downtime" class="sortable">다운타임</th>
                                        <th data-sort="price" class="sortable">가격</th>
                                    </tr>
                                </thead>
                                <tbody id="tableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Detail Modal -->
        <div class="modal-overlay hidden" id="modalOverlay">
            <div class="modal" id="detailModal">
                <button class="modal-close" id="modalClose">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
                <div class="modal-header" id="modalHeader"></div>
                <div class="modal-content" id="modalContent"></div>
            </div>
        </div>
    </div>

    <!-- Scroll Progress Bar -->
    <div class="scroll-progress" id="scrollProgress"></div>

    <!-- Activity Toast Notification -->
    <div class="activity-toast" id="activityToast">
        <div class="toast-icon">👤</div>
        <div class="toast-content">
            <span class="toast-message" id="toastMessage">방금 김**님이 AI 상담을 시작했습니다</span>
            <span class="toast-time" id="toastTime">방금 전</span>
        </div>
    </div>

    <!-- Mobile Fixed CTA Bar -->
    <div class="mobile-cta-bar" id="mobileCta">
        <button class="mobile-cta-btn primary" onclick="switchToView('consult')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
            </svg>
            AI 상담
        </button>
        <button class="mobile-cta-btn secondary" onclick="switchToView('concern')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <path d="M21 21l-4.35-4.35"/>
            </svg>
            시술 찾기
        </button>
    </div>

    <script>
        // 폰트 로딩 완료 감지
        if (document.fonts && document.fonts.ready) {
            document.fonts.ready.then(() => {
                document.documentElement.classList.add('fonts-loaded');
            });
        } else {
            // fallback: 폰트 API 미지원 브라우저
            document.documentElement.classList.add('fonts-loaded');
        }
        // 최대 대기 시간 (폰트 로딩 실패 시에도 표시)
        setTimeout(() => {
            document.documentElement.classList.add('fonts-loaded');
        }, 500);
    </script>
    <script src="db_extended.js"></script>
    <script src="treatment_images.js"></script>
    <script src="app.js?v=20260126b"></script>
</body>
</html>
